# scrollview-----------
ui长列表优化 drawcall优化，无限列表


​
我这里只实现纵向滑动列表，横向的话直接修改一下就好

cocos creator 2.4.4

参考链接 https://blog.csdn.net/zakerhero/article/details/81081049

这个链接里实现了横向和纵向的滑动，但是有问题，如果只是实例化文字，那没问题，如果还有图像的刷新，就会出现闪动刷新的效果

原理就是：根据数据量的大小，计算出scrollview的滑动最大高度，时刻监听滑动，根据当前scrollview滑动距离左上角的偏移，和item的单个高度，计算出当前需要实例化的datalist中的index,从index到max最大显示数量，实例化出来，比如max是8个，根据滑动，计算出当前滑动到的开始index是3，就是实例化 index，3到10的实例化，刷新8个数据，接着滑动，下次是4--11，把每个item的位置更新了就可以，然后刷新数据显示

问题：

参考的原文链接 之所以会出现刷新图片闪动的效果，是他时刻都在刷新，更新所有item的显示数据，图片渲染比较慢，就会闪动。

改动：

我这里实现的是滑动后 超出的移除，加到缓存池中，等待下次使用，中间的显示区域不需要刷新，这样就会符合显示了

​
